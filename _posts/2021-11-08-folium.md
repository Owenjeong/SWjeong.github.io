---
ayout: page
title:  "지도 시각화 도구 Folium 사용법을 파헤쳐보자!"
description: "지도 시각화 도구 Folium 사용법을 파헤쳐보도록 하겠습니다."
headline: "지도 시각화 도구 Folium 사용법을 파헤쳐보도록 하겠습니다."
categories: visualization
tags: [python, 인공지능 책, 테디노트 책, 테디노트, 파이썬, 딥러닝 책 추천, 파이썬 책 추천, 머신러닝 책 추천, 파이썬 딥러닝 텐서플로, 텐서플로우 책 추천, 텐서플로 책, 인공지능 서적, data science, 데이터 분석, 딥러닝]
comments: true
published: true
---



지도위에 데이터를 interactive하게 표현해 주는 대표적인 파이썬 지도 시각화 라이브러리 `folium`에 대해서 알아보고 그 사용법을 파헤쳐보도록 하겠습니다.



## folium 개요

folium은 `leaflet.js` 기반으로 만들어진 Python 지도 시각화 라이브러리 입니다.

[도큐먼트](https://python-visualization.github.io/folium/)

folium을 사용하여 인터랙티브한 지도를 생성하고 **마커를 추가**하여 시각화하거나 **원으로 범위를 표기**하고 `html` 파일로 내보내기 등을 수행할 수 있습니다.



## folium 설치

`pip install folium`으로 라이브러리를 **설치**할 수 있습니다.


```python
!pip install folium
```



모듈 import 


```python
import folium
```



## 기본 좌표 설정

`location`에 위도, 경도 정보를 입력하여 입력한 **위,경도 좌표**를 기준으로 지도를 그릴 수 있습니다.

이때 `zoom_start` 정보를 지정하여 **확대**의 정도를 지정할 수 있습니다.

- 참고: `zoom_start`의 범위는 **최대 18** 입니다.


```python
# 위도
latitude = 37.394946
# 경도
longitude = 127.111104
```


```python
m = folium.Map(location=[latitude, longitude],
               zoom_start=17, 
               width=750, 
               height=500
              )
m
```

![image-20211108010122376](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010122376.png)




## 마커 추가

- `location`: 마커를 추가할 **위도/경도 좌표**를 입력 후 
- `popup`: 표기할 팝업 문구 지정 (마우스 클릭시 표기되는 문구)
- `tooltip`: 표기할 툴팁 지정 (마우스 오버시 표기되는 문구)

마커를 생성 후 기존에 생성된 지도 `m`에 추가합니다.


```python
folium.Marker([latitude, longitude],
              popup="판교역",
              tooltip="판교역 입구").add_to(m)
m
```

![image-20211108010023935](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010023935.png)



마커에 대한 스타일 변경도 가능합니다. 스타일 변경시 `icon` 파라미터에 `folium.Icon(color=?, icon=?)`을 지정합니다.


```python
folium.Marker([latitude, longitude],
              popup="판교역",
              tooltip="판교역 입구", 
              icon=folium.Icon('red', icon='star'),
             ).add_to(m)
m
```

![image-20211108010204489](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010204489.png)



`popup`이나 `tooltip`에 다음과 같이 `html 코드`를 삽입하여 이미지를 표기하거나 심지어 YouTube 영상도 삽입할 수 있습니다.


```python
folium.Marker([latitude, longitude],
              popup='<iframe width="560" height="315" src="https://www.youtube.com/embed/dpwTOQri42s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',
              tooltip="판교역 입구").add_to(m)
m
```

![image-20211108010231136](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010231136.png)


```python
folium.CircleMarker([latitude, longitude],
                    color='tomato',
                    radius = 50, 
                    tooltip='판교역 상권').add_to(m)
m
```

![image-20211108010255073](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010255073.png)



```python
import pandas as pd
```


```python
df = pd.read_csv('소상공인시장진흥공단_상가(상권)정보_경기_202109.csv')
df.head(3)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
    
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>상가업소번호</th>
      <th>상호명</th>
      <th>지점명</th>
      <th>상권업종대분류코드</th>
      <th>상권업종대분류명</th>
      <th>상권업종중분류코드</th>
      <th>상권업종중분류명</th>
      <th>상권업종소분류코드</th>
      <th>상권업종소분류명</th>
      <th>표준산업분류코드</th>
      <th>...</th>
      <th>구우편번호</th>
      <th>신우편번호</th>
      <th>동정보</th>
      <th>층정보</th>
      <th>호정보</th>
      <th>전화번호</th>
      <th>경도</th>
      <th>위도</th>
      <th>상권번호</th>
      <th>데이터기준일자</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20713599</td>
      <td>눈높이러닝센타</td>
      <td>NaN</td>
      <td>R</td>
      <td>학문/교육</td>
      <td>R13</td>
      <td>학문교육기타</td>
      <td>R13A01</td>
      <td>학습지보급</td>
      <td>P85503</td>
      <td>...</td>
      <td>423010.0</td>
      <td>14221.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2</td>
      <td>02-2066-9109</td>
      <td>126.858147</td>
      <td>37.478530</td>
      <td>NaN</td>
      <td>2016-01-26</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20642964</td>
      <td>유니베라</td>
      <td>구성대리점</td>
      <td>D</td>
      <td>소매</td>
      <td>D16</td>
      <td>화장품소매</td>
      <td>D16A01</td>
      <td>화장품판매점</td>
      <td>G47813</td>
      <td>...</td>
      <td>446525.0</td>
      <td>16919.0</td>
      <td>NaN</td>
      <td>2</td>
      <td>NaN</td>
      <td>031-8005-7071</td>
      <td>127.116575</td>
      <td>37.294690</td>
      <td>NaN</td>
      <td>2021-10-22</td>
    </tr>
    <tr>
      <th>2</th>
      <td>24510829</td>
      <td>엠아이케이21</td>
      <td>NaN</td>
      <td>D</td>
      <td>소매</td>
      <td>D14</td>
      <td>운동/경기용품소매</td>
      <td>D14A01</td>
      <td>운동/경기용품</td>
      <td>G47631</td>
      <td>...</td>
      <td>463937.0</td>
      <td>13622.0</td>
      <td>901</td>
      <td>NaN</td>
      <td>90</td>
      <td>070-8699-8912</td>
      <td>127.123291</td>
      <td>37.340903</td>
      <td>NaN</td>
      <td>2016-01-26</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 42 columns</p>
</div>




```python
pd.Series(df.columns)
```




    0        상가업소번호
    1           상호명
    2           지점명
    3     상권업종대분류코드
    4      상권업종대분류명
    5     상권업종중분류코드
    6      상권업종중분류명
    7     상권업종소분류코드
    8      상권업종소분류명
    9      표준산업분류코드
    10      표준산업분류명
    11         시도코드
    12          시도명
    13        시군구코드
    14         시군구명
    15        행정동코드
    16         행정동명
    17        법정동코드
    18         법정동명
    19        PNU코드
    20       대지구분코드
    21        대지구분명
    22        지번본번지
    23        지번부번지
    24         지번주소
    25        도로명코드
    26          도로명
    27        건물본번지
    28        건물부번지
    29       건물관리번호
    30          건물명
    31        도로명주소
    32        구우편번호
    33        신우편번호
    34          동정보
    35          층정보
    36          호정보
    37         전화번호
    38           경도
    39           위도
    40         상권번호
    41      데이터기준일자
    dtype: object




```python
sub_df = df.loc[df['행정동명'].isin(['백현동', '정자동', '삼평동'])]
sub_df.head(3)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
    
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>상가업소번호</th>
      <th>상호명</th>
      <th>지점명</th>
      <th>상권업종대분류코드</th>
      <th>상권업종대분류명</th>
      <th>상권업종중분류코드</th>
      <th>상권업종중분류명</th>
      <th>상권업종소분류코드</th>
      <th>상권업종소분류명</th>
      <th>표준산업분류코드</th>
      <th>...</th>
      <th>구우편번호</th>
      <th>신우편번호</th>
      <th>동정보</th>
      <th>층정보</th>
      <th>호정보</th>
      <th>전화번호</th>
      <th>경도</th>
      <th>위도</th>
      <th>상권번호</th>
      <th>데이터기준일자</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>35</th>
      <td>24527550</td>
      <td>코리아세븐분당</td>
      <td>정자3호점</td>
      <td>D</td>
      <td>소매</td>
      <td>D03</td>
      <td>종합소매점</td>
      <td>D03A01</td>
      <td>편의점</td>
      <td>G47122</td>
      <td>...</td>
      <td>463834.0</td>
      <td>13612.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>031-718-9733</td>
      <td>127.113508</td>
      <td>37.362807</td>
      <td>NaN</td>
      <td>2016-01-27</td>
    </tr>
    <tr>
      <th>102</th>
      <td>28523933</td>
      <td>처가방</td>
      <td>NaN</td>
      <td>Q</td>
      <td>음식</td>
      <td>Q10</td>
      <td>별식/퓨전요리</td>
      <td>Q10A02</td>
      <td>샤브샤브전문</td>
      <td>I56111</td>
      <td>...</td>
      <td>463420.0</td>
      <td>13529.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>031-5170-1908</td>
      <td>127.112071</td>
      <td>37.392785</td>
      <td>NaN</td>
      <td>2016-11-17</td>
    </tr>
    <tr>
      <th>244</th>
      <td>20786763</td>
      <td>백현</td>
      <td>NaN</td>
      <td>L</td>
      <td>부동산</td>
      <td>L01</td>
      <td>부동산중개</td>
      <td>L01A01</td>
      <td>부동산중개</td>
      <td>L68221</td>
      <td>...</td>
      <td>463887.0</td>
      <td>13532.0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>031-8016-8100</td>
      <td>127.110756</td>
      <td>37.389333</td>
      <td>NaN</td>
      <td>2017-10-02</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 42 columns</p>
</div>




```python
sub_df[['위도', '경도', '상호명']]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
    
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>위도</th>
      <th>경도</th>
      <th>상호명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>35</th>
      <td>37.362807</td>
      <td>127.113508</td>
      <td>코리아세븐분당</td>
    </tr>
    <tr>
      <th>102</th>
      <td>37.392785</td>
      <td>127.112071</td>
      <td>처가방</td>
    </tr>
    <tr>
      <th>244</th>
      <td>37.389333</td>
      <td>127.110756</td>
      <td>백현</td>
    </tr>
    <tr>
      <th>284</th>
      <td>37.401265</td>
      <td>127.108639</td>
      <td>야쿤커피앤토스트판교점</td>
    </tr>
    <tr>
      <th>678</th>
      <td>37.368770</td>
      <td>127.112015</td>
      <td>해동검도</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>514805</th>
      <td>37.397736</td>
      <td>127.111414</td>
      <td>에세이스튜디오</td>
    </tr>
    <tr>
      <th>515501</th>
      <td>37.362357</td>
      <td>127.113513</td>
      <td>아몽옷고치는전문집</td>
    </tr>
    <tr>
      <th>515824</th>
      <td>37.384859</td>
      <td>127.111408</td>
      <td>티랩</td>
    </tr>
    <tr>
      <th>516332</th>
      <td>37.392951</td>
      <td>127.118687</td>
      <td>우디크리빙</td>
    </tr>
    <tr>
      <th>516457</th>
      <td>37.395832</td>
      <td>127.113503</td>
      <td>써브웨이</td>
    </tr>
  </tbody>
</table>
<p>3322 rows × 3 columns</p>
</div>




```python
from folium.plugins import MarkerCluster


m = folium.Map(
    location=[latitude, longitude],
    zoom_start=15
)

coords = sub_df[['위도', '경도']]


marker_cluster = MarkerCluster().add_to(m)

for lat, long in zip(coords['위도'], coords['경도']):
    folium.Marker([lat, long], icon = folium.Icon(color="green")).add_to(marker_cluster)
m
```

![image-20211108010346971](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010346971.png)



## 서울 지도에서 행정 구역별 표시


```python
import requests
import json

# 서울 행정구역 json raw파일(githubcontent)
r = requests.get('https://raw.githubusercontent.com/southkorea/seoul-maps/master/kostat/2013/json/seoul_municipalities_geo_simple.json')
c = r.content
seoul_geo = json.loads(c)
```

서울 지역의 구별 boundary 시각화


```python
m = folium.Map(
    location=[37.559819, 126.963895],
    zoom_start=11, 
)

folium.GeoJson(
    seoul_geo,
    name='지역구'
).add_to(m)

m
```

![image-20211108010409003](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010409003.png)



## tiles 옵션 변경을 통해 지도의 테마 변경

지도의 기본 테마(tiles)는 `OpenStreetMap`으로 설정되어 있는데, 이를 변경하여 다른 지도 테마를 적용할 수 있다.

### `Stamen Toner` 적용시


```python
m = folium.Map(
    location=[37.559819, 126.963895],
    zoom_start=11, 
    tiles='Stamen Toner'
)

folium.GeoJson(
    seoul_geo,
    name='지역구'
).add_to(m)

m
```

![image-20211108010437892](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010437892.png)



### `cartodbpositron` 적용시


```python
m = folium.Map(
    location=[37.559819, 126.963895],
    zoom_start=11, 
    tiles='cartodbpositron'
)

folium.GeoJson(
    seoul_geo,
    name='지역구'
).add_to(m)

m
```

![image-20211108010459001](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010459001.png)



## 서울시 자치구별 상권정보 시각화

- [소상공인시장진흥공단 상권 정보 데이터셋 다운로드](https://www.data.go.kr/data/15069630/fileData.do)

`seoul` 데이터프레임에 소상공인시장진흥공단에서 제공하는 **서울시 상권정보 csv 파일**을 로드합니다. 


```python
seoul = pd.read_csv('소상공인시장진흥공단_상가(상권)정보_서울_202109.csv')

# 필요한 컬럼 정보만 가져옵니다
seoul = seoul[['시군구명', '상권업종대분류명', '상권업종중분류명', '위도', '경도']]
seoul
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
    
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시군구명</th>
      <th>상권업종대분류명</th>
      <th>상권업종중분류명</th>
      <th>위도</th>
      <th>경도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>송파구</td>
      <td>소매</td>
      <td>의복의류</td>
      <td>37.493054</td>
      <td>127.147321</td>
    </tr>
    <tr>
      <th>1</th>
      <td>영등포구</td>
      <td>소매</td>
      <td>건강/미용식품</td>
      <td>37.520613</td>
      <td>126.907168</td>
    </tr>
    <tr>
      <th>2</th>
      <td>성동구</td>
      <td>소매</td>
      <td>취미/오락관련소매</td>
      <td>37.566857</td>
      <td>127.049018</td>
    </tr>
    <tr>
      <th>3</th>
      <td>동작구</td>
      <td>음식</td>
      <td>한식</td>
      <td>37.487105</td>
      <td>126.980952</td>
    </tr>
    <tr>
      <th>4</th>
      <td>종로구</td>
      <td>음식</td>
      <td>한식</td>
      <td>37.572387</td>
      <td>126.981794</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>325875</th>
      <td>마포구</td>
      <td>부동산</td>
      <td>부동산중개</td>
      <td>37.557971</td>
      <td>126.907290</td>
    </tr>
    <tr>
      <th>325876</th>
      <td>은평구</td>
      <td>소매</td>
      <td>시계/귀금속소매</td>
      <td>37.604195</td>
      <td>126.936049</td>
    </tr>
    <tr>
      <th>325877</th>
      <td>은평구</td>
      <td>소매</td>
      <td>애견/애완/동물</td>
      <td>37.596790</td>
      <td>126.905613</td>
    </tr>
    <tr>
      <th>325878</th>
      <td>광진구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.556004</td>
      <td>127.085023</td>
    </tr>
    <tr>
      <th>325879</th>
      <td>강북구</td>
      <td>생활서비스</td>
      <td>이/미용/건강</td>
      <td>37.629348</td>
      <td>127.017622</td>
    </tr>
  </tbody>
</table>
<p>325880 rows × 5 columns</p>
</div>



시각화 모듈을 import 하고 **서울시의 업종별 개수**를 시각화합니다.


```python
import matplotlib.pyplot as plt
import seaborn as sns

# 한글 폰트 설정
plt.rcParams['font.family'] = 'NanumGothic'

plt.figure(figsize=(12, 30))
sns.countplot(y=seoul['상권업종중분류명'], order=seoul['상권업종중분류명'].value_counts().index)
plt.yticks(fontsize=12)
plt.title('서울시 업종별 개수')
plt.show()
```


![다운로드](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\1108-1)
    


**한식 업종이 가장 많은 개수**를 차지합니다. 커피점/카페 업종이 가장 많은 업종일 줄 알았는데요. 한식, 이미용/건강, 종합소매업 다음 4위를 차지하였습니다.

그럼 **커피점/카페** 업종은 자치구별로 **어느 곳에 가장 많이 분포**해 있는지 시각화해 보겠습니다.


```python
plt.figure(figsize=(12, 10))
seoul.loc[seoul['상권업종중분류명'] == '커피점/카페'].groupby('시군구명')['상권업종대분류명'].count()\
                                                     .sort_values().plot(kind='barh', color='royalblue')
plt.yticks(fontsize=12)
plt.title('서울시 자치구별 커피점/카페 업종수')
plt.show()
```


​        ![다운로드 (1)](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\1108-2)


강남구가 가장 많은 수를 차지하고 강북구는 가장 적은 수를 차지하였습니다.

이제 이를 folium 위에 시각화를 해보겠습니다.


```python
seoul_coffee = seoul.loc[seoul['상권업종중분류명'] == '커피점/카페']
seoul_coffee
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
    
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>시군구명</th>
      <th>상권업종대분류명</th>
      <th>상권업종중분류명</th>
      <th>위도</th>
      <th>경도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>29</th>
      <td>종로구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.583149</td>
      <td>127.000171</td>
    </tr>
    <tr>
      <th>109</th>
      <td>도봉구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.658728</td>
      <td>127.034746</td>
    </tr>
    <tr>
      <th>190</th>
      <td>마포구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.554599</td>
      <td>126.929692</td>
    </tr>
    <tr>
      <th>200</th>
      <td>강서구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.580941</td>
      <td>126.813358</td>
    </tr>
    <tr>
      <th>206</th>
      <td>양천구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.522055</td>
      <td>126.842935</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>325715</th>
      <td>서대문구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.557293</td>
      <td>126.950705</td>
    </tr>
    <tr>
      <th>325754</th>
      <td>금천구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.468602</td>
      <td>126.902047</td>
    </tr>
    <tr>
      <th>325788</th>
      <td>마포구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.540241</td>
      <td>126.948240</td>
    </tr>
    <tr>
      <th>325791</th>
      <td>강서구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.532109</td>
      <td>126.839080</td>
    </tr>
    <tr>
      <th>325878</th>
      <td>광진구</td>
      <td>음식</td>
      <td>커피점/카페</td>
      <td>37.556004</td>
      <td>127.085023</td>
    </tr>
  </tbody>
</table>
<p>19703 rows × 5 columns</p>
</div>




```python
m = folium.Map(
    location=[37.559819, 126.963895],
    zoom_start=12, 
    tiles='cartodbpositron'
)

folium.GeoJson(
    seoul_geo,
    name='지역구'
).add_to(m)

marker_cluster = MarkerCluster().add_to(m)

for lat, long in zip(seoul_coffee['위도'], seoul_coffee['경도']):
    folium.Marker([lat, long], icon = folium.Icon(color="green")).add_to(marker_cluster)

m
```

![image-20211108010725839](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010725839.png)



```python
seoul_group_data = seoul.loc[seoul['상권업종중분류명'] == '커피점/카페'].groupby('시군구명')['상권업종중분류명'].count()
seoul_group_data
```




    시군구명
    강남구     2253
    강동구      763
    강북구      330
    강서구     1048
    관악구      593
    광진구      771
    구로구      596
    금천구      444
    노원구      534
    도봉구      373
    동대문구     499
    동작구      526
    마포구     1427
    서대문구     704
    서초구     1277
    성동구      640
    성북구      668
    송파구     1125
    양천구      543
    영등포구     859
    용산구      730
    은평구      575
    종로구     1082
    중구       895
    중랑구      448
    Name: 상권업종중분류명, dtype: int64



`choropleth` 를 사용하여 시각화를 하면 업종 별 개수에 따른 색상의 차이를 두어 시각화를 해줍니다.


```python
m = folium.Map(
    location=[37.559819, 126.963895],
    zoom_start=11, 
    tiles='cartodbpositron'
)

folium.GeoJson(
    seoul_geo,
    name='지역구'
).add_to(m)

m.choropleth(geo_data=seoul_geo,
             data=seoul_group_data, 
             fill_color='YlOrRd', # 색상 변경도 가능하다
             fill_opacity=0.5,
             line_opacity=0.2,
             key_on='properties.name',
             legend_name="지역구별 커피 업종 수"
            )
m
```

![image-20211108010747723](C:\Users\teddy-pangyo\Documents\teddylee777.github.io\images\2021-11-08\image-20211108010747723.png)



`bins`를 만들어 **1/4, 2/4, 3/4분위수별**로 구간을 나누어 시각화할 수 있습니다.


```python
bins = list(seoul_group_data.quantile([0, 0.25, 0.5, 0.75, 1]))

m = folium.Map(
    location=[37.559819, 126.963895],
    zoom_start=11, 
    tiles='cartodbpositron'
)

folium.GeoJson(
    seoul_geo,
    name='지역구'
).add_to(m)

m.choropleth(geo_data=seoul_geo,
             data=seoul_group_data, 
             fill_color='YlOrRd', # 색상 변경도 가능하다
             fill_opacity=0.5,
             line_opacity=0.2,
             key_on='properties.name',
             legend_name="지역구별 커피 업종 수", 
             bins=bins
            )
m
```

![image-20211108010809526](C:\Users\teddy-pangyo\AppData\Roaming\Typora\typora-user-images\image-20211108010809526.png)


## Html 파일로 저장

저장은 `save()` 함수로 쉽게 html 파일로 저장할 수 있습니다.


```python
m.save('map.html')
```

## 참고 (References)

- [Folium 0.12.1 documentation](https://python-visualization.github.io/folium/)
- [folium을 이용하여 서울시 동별 인구 수 시각화하기](https://d-hyeon.tistory.com/2)
- [지도 핸들링_folium](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=jymoon1115&logNo=221392797679)
